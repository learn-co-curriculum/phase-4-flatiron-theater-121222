{"version":3,"sources":["components/ProductionCard.js","components/ProductionContainer.js","components/Home.js","styled/Form.js","components/ProductionForm.js","components/EditProductionForm.js","components/Navigation.js","components/ProductionDetail.js","components/UserPage.js","components/Signup.js","components/Login.js","components/NotFound.js","App.js","index.js"],"names":["ProductionCard","_ref","production","title","budget","genre","image","id","console","log","_jsxs","Card","children","Link","to","concat","_jsx","src","styled","li","_templateObject","_taggedTemplateLiteral","ProductionContainer","productions","Title","CardContainer","map","h1","ul","_templateObject2","Home","Image","img","attrs","Form","form","ProductionForm","addProduction","_useState","useState","director","description","_useState2","_slicedToArray","formData","setFormData","_useState3","_useState4","errors","setErrors","handleChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","className","onSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","ongoing","then","res","ok","json","data","Object","entries","type","onChange","rows","cols","style","color","toUpperCase","EditProductionForm","updateProduction","useParams","useEffect","Navigation","updateUser","menu","setMenu","history","useHistory","Nav","NavH1","Menu","onClick","push","GiHamburgerMenu","size","div","_templateObject3","ProductionDetail","deleteProduction","setProduction","loading","setLoading","_useState5","_useState6","params","error","cast_members","CardDetail","crew","role","production_id","user_id","price","UserPage","user","setUser","tickets","ticket","SignUp","email","password","_Fragment","Login","NotFound","App","setProductions","cart","setCart","_useState7","_useState8","fetchProductions","GlobalStyle","Switch","Route","path","current","_toConsumableArray","updatedProduction","addToCart","filter","p","exact","createGlobalStyle","ReactDOM","render","Router","document","getElementById"],"mappings":"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","file":"static/js/main.4d243c3c.chunk.js","sourcesContent":["import {Link} from 'react-router-dom'\nimport styled from 'styled-components'\n\n\nfunction ProductionCard({production}) {\n    const {title, budget, genre, image, id} = production\n    console.log(production)\n    return (\n      <Card>\n      <div>\n      <Link to={`/productions/${id}`}> <h2>{title}</h2></Link>\n        <p>{genre}</p>\n        <p>$ {budget}</p>\n      </div>\n      <img src={image}/>\n      </Card>\n     \n    );\n  }\n  \n  export default ProductionCard\n\n\n  const Card = styled.li`\n    display:flex;\n    flex-direction:row;\n    justify-content:start;\n    font-family:Arial, sans-serif;\n    margin:10px;\n    &:hover {\n      transform: scale(1.15);\n      transform-origin: top left;\n    }\n    a{\n      text-decoration:none;\n      color:white;\n    }\n    img{\n      width: 180px;\n      margin-left:20%;\n      mask-image: linear-gradient(to left, rgba(0, 0, 0, .9) 80%, transparent 100%);\n    }\n    position:relative;\n    div{\n     position:absolute;\n    \n    }\n  `","import styled from 'styled-components'\nimport ProductionCard from './ProductionCard'\n\n\nfunction ProductionContainer({productions}) {\n\n    return (\n     <div>\n         <Title><span>F</span>latIron Theater <span>C</span>ompany</Title>\n         <CardContainer>\n             {productions.map(production => <ProductionCard  key={production.id} production={production}  />)}\n         </CardContainer>\n     </div>\n    );\n  }\n  \nexport default ProductionContainer\n\nconst Title = styled.h1`\n    text-transform: uppercase;\n    font-family:Arial, sans-serif;\n    width:70px;\n    font-size: 70px;\n    line-height: .8;\n   \n    transform: scale(.7, 1.4);\n    \n    span{\n        color:#42ddf5;\n    }\n`\n\n\nconst CardContainer = styled.ul`\n    display:flex;\n    flex-direction:column;\n\n`\n\n","import styled from 'styled-components'\nimport ProductionContainer from './ProductionContainer'\n\nfunction Home({productions}){\n    return(\n    <div>\n        <Image /> \n        <ProductionContainer productions={productions} />\n    </div>\n    )\n}\n\nexport default Home\n\nconst Image = styled.img.attrs(() => ({\n    src:'https://images.unsplash.com/photo-1518834107812-67b0b7c58434?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1335&q=80', \n  }))`\n    position: absolute;\n    z-index:-1;\n  `\n  ","import styled from \"styled-components\";\n\nexport const Form = styled.form`\ndisplay:flex;\nflex-direction:column;\nwidth: 400px;\nmargin:auto;\nfont-family:Arial;\nfont-size:30px;\ninput[type=submit]{\n  background-color:#42ddf5;\n  color: white;\n  height:40px;\n  font-family:Arial;\n  font-size:30px;\n  margin-top:10px;\n  margin-bottom:10px;\n}\n`","import React, { useState} from 'react'\nimport {Form} from '../styled/Form'\n\n\nfunction ProductionForm({addProduction}) {\n  const [formData, setFormData] = useState({\n    title:'',\n    genre:'',\n    budget:'',\n    image:'',\n    director:'',\n    description:''\n  })\n  const [errors, setErrors] = useState([])\n\n  const handleChange = (e) => {\n    const { name, value } = e.target\n    setFormData({ ...formData, [name]: value })\n  }\n\n  function onSubmit(e){\n    e.preventDefault()\n    \n    fetch('/productions',{\n      method:'POST',\n      headers: {'Content-Type': 'application/json'},\n      body:JSON.stringify({...formData, ongoing:true})\n    })\n    .then(res => {\n      if(res.ok){\n        res.json().then(addProduction)\n      } else {\n        //Display errors\n        res.json().then(data => setErrors(Object.entries(data.errors).map(e => `${e[0]} ${e[1]}`)))\n      }\n    })\n  }\n    return (\n      <div className='App'>\n      {errors?errors.map(e => <div>{e}</div>):null}\n      <Form onSubmit={onSubmit}>\n        <label>Title </label>\n        <input type='text' name='title' value={formData.title} onChange={handleChange} />\n        \n        <label> Genre</label>\n        <input type='text' name='genre' value={formData.genre} onChange={handleChange} />\n      \n        <label>Budget</label>\n        <input type='number' name='budget' value={formData.budget} onChange={handleChange} />\n      \n        <label>Image</label>\n        <input type='text' name='image' value={formData.image} onChange={handleChange} />\n      \n        <label>Director</label>\n        <input type='text' name='director' value={formData.director} onChange={handleChange} />\n      \n        <label>Description</label>\n        <textarea type='text' rows='4' cols='50' name='description' value={formData.description} onChange={handleChange} />\n      \n        <input type='submit' value='Update Production' />\n      </Form>\n      {errors?errors.map(e => <h2 style={{color:'red'}}>{e.toUpperCase()}</h2>):null}\n      </div>\n    )\n  }\n  \n  export default ProductionForm\n\n","import React, { useState, useEffect} from 'react'\nimport { useParams } from 'react-router-dom'\nimport {Form} from '../styled/Form'\n\nfunction EditProductionForm({updateProduction}) {\n  const [formData, setFormData] = useState({\n    title:'',\n    genre:'',\n    budget:'',\n    image:'',\n    director:'',\n    description:''\n  })\n  const [errors, setErrors] = useState([])\n  const {id} = useParams()\n  useEffect(() => {\n    fetch(`/productions/${id}`)\n    .then(res => res.json())\n    .then(setFormData)\n  },[])\n\n  const handleChange = (e) => {\n    const { name, value } = e.target\n    setFormData({ ...formData, [name]: value })\n  }\n\n\n  function onSubmit(e){\n    e.preventDefault()\n    //PATCH to `/productions/${id}`\n    fetch(`/productions/${id}`,{\n      method:'PATCH',\n      headers: {'Content-Type': 'application/json'},\n      body:JSON.stringify(formData)\n    })\n    .then(res => {\n      if(res.ok){\n        res.json().then(updateProduction)\n      } else {\n        //Display errors\n        res.json().then(data => setErrors(Object.entries(data.errors).map(e => `${e[0]} ${e[1]}`)))\n      }\n    })\n  }\n    return (\n      <div className='App'>\n      {errors?errors.map(e => <div>{e}</div>):null}\n      <Form onSubmit={onSubmit}>\n        <label>Title </label>\n        <input type='text' name='title' value={formData.title} onChange={handleChange} />\n        \n        <label> Genre</label>\n        <input type='text' name='genre' value={formData.genre} onChange={handleChange} />\n      \n        <label>Budget</label>\n        <input type='number' name='budget' value={formData.budget} onChange={handleChange} />\n      \n        <label>Image</label>\n        <input type='text' name='image' value={formData.image} onChange={handleChange} />\n      \n        <label>Director</label>\n        <input type='text' name='director' value={formData.director} onChange={handleChange} />\n      \n        <label>Description</label>\n        <textarea type='text' rows='4' cols='50' name='description' value={formData.description} onChange={handleChange} />\n      \n        <input type='submit' value='Update Production' />\n      </Form>\n      {errors?errors.map(e => <h2 style={{color:'red'}}>{e.toUpperCase()}</h2>):null}\n      </div>\n    )\n  }\n  \n  export default EditProductionForm\n","import { useState } from 'react'\nimport {Link, useHistory} from 'react-router-dom'\nimport styled from 'styled-components'\nimport { GiHamburgerMenu } from 'react-icons/gi'\n\nfunction Navigation({updateUser}) {\n const [menu, setMenu] = useState(false)\n const history = useHistory()\n  const handleLogout = () => {\n    fetch('/logout',{\n      method:'DELETE'\n    })\n    .then(res => {\n      if(res.ok){\n        updateUser(null)\n        history.push('/login')\n      }\n    })\n  }\n    return (\n        <Nav> \n         <NavH1>Flatiron Theater Company</NavH1>\n         <Menu>\n           {!menu?\n           <div onClick={() => setMenu(!menu)}>\n             <GiHamburgerMenu size={30}/> \n           </div>:\n           <ul>\n            <li onClick={() => setMenu(!menu)}>x</li>\n            <li><Link to='/users/1'>User Page</Link></li>\n            <li><Link to='/users/new'>Sign Up</Link></li>\n            <li><Link to='/login'>Login</Link></li>\n            <li><Link to='/productions/new'>New Production</Link></li>\n            <li><Link to='/'> Home</Link></li>\n            <button onClick={handleLogout}>Logout</button>\n           </ul>\n           }\n         </Menu>\n\n        </Nav>\n    )\n}\n\nexport default Navigation\n\n\nconst NavH1 = styled.h1`\nfont-family: 'Splash', cursive;\n`\nconst Nav = styled.div`\n  display: flex;\n  justify-content:space-between;\n  \n`;\n\nconst Menu = styled.div`\n  display: flex;\n  align-items: center;\n  a{\n    text-decoration: none;\n    color:white;\n    font-family:Arial;\n  }\n  a:hover{\n    color:pink\n  }\n  ul{\n    list-style:none;\n  }\n  \n`;\n","import  { Link, useParams, useHistory } from 'react-router-dom'\nimport {useEffect, useState} from 'react'\nimport styled from 'styled-components'\n\nfunction ProductionDetail({deleteProduction}) {\n  const [production, setProduction] = useState({})\n  const [loading, setLoading] = useState(true)\n  const [errors, setErrors] = useState(false)\n  \n  const params = useParams()\n  const history = useHistory()\n  useEffect(()=>{\n    //GET to '/productions/:id'\n    fetch(`/productions/${params.id}`)\n    .then(res => { \n      if(res.ok){\n        res.json().then(data => {\n          setProduction(data)\n          setLoading(false)\n        })\n      } else {\n        console.log('error')\n        res.json().then(data => setErrors(data.error))\n      }\n    })\n  },[])\n\n  function handleDelete(){\n    //DELETE to `/productions/${params.id}`\n    fetch(`/productions/${params.id}`,{\n      method:'DELETE',\n      headers: {'Content-Type': 'application/json'}\n    })\n    .then(res => {\n      if(res.ok){\n        deleteProduction(id)\n        history.push('/')\n      } else {\n        res.json().then(data => setErrors(Object.entries(data.errors).map(e => `${e[0]} ${e[1]}`)))\n      }\n    })\n  }\n\n  const handleBuy = () => {\n    fetch(`/tickets`,{\n      method:'POST',\n      headers: {'Content-Type': 'application/json'},\n      body:JSON.stringify({production_id:id, user_id:1, price:30.50})\n    })\n    .then(res => {\n      if(res.ok){\n        history.push('/users/1')\n      } else {\n        res.json().then(data => setErrors(Object.entries(data.errors).map(e => `${e[0]} ${e[1]}`)))\n      }\n    })\n  }\n\n  \n  \n \n  if(loading) return <h1>Loading</h1>\n  if(errors) return <h1>{errors}</h1>\n\n  const {id, title, budget, genre, image,description, cast_members} = production \n  console.log(cast_members)\n  //Place holder data, will be replaced in the assosiations lecture. \n  // const crew_members = ['Lily-Mai Harding', 'Cathy Luna', 'Tiernan Daugherty', 'Giselle Nava', 'Alister Wallis', 'Aishah Rowland', 'Keiren Bernal', 'Aqsa Parrish', 'Daanyal Laing', 'Hollie Haas']\n  return (\n      <CardDetail>\n        <h1>{title}</h1>\n          <div className='wrapper'>\n            <div>\n              <h3>Genre:</h3>\n              <p>{genre}</p>\n              <h3>Description:</h3>\n              <p>{description}</p>\n              <h2>Crew Memebers</h2>\n              <ul>\n                {cast_members.map(crew => <li>{crew.role} : {crew.name}</li>)}\n              </ul>\n            </div>\n            <img src={image}/>\n          </div>\n      <button><Link to={`/productions/${id}/edit`}>Edit Production</Link></button>\n      <button onClick={handleDelete}>Delete Production</button>\n      <button onClick={handleBuy} >Buy Ticket</button>\n      </CardDetail>\n    )\n  }\n\n  \n  export default ProductionDetail\n  const CardDetail = styled.li`\n    display:flex;\n    flex-direction:column;\n    justify-content:start;\n    font-family:Arial, sans-serif;\n    margin:5px;\n    h1{\n      font-size:60px;\n      border-bottom:solid;\n      border-color:#42ddf5;\n    }\n    .wrapper{\n      display:flex;\n      div{\n        margin:10px;\n      }\n    }\n    img{\n      width: 300px;\n    }\n    button{\n      background-color:#42ddf5;\n      color: white;\n      height:40px;\n      font-family:Arial;\n      font-size:30px;\n      margin-top:10px;\n    }\n  `","import { useEffect, useState } from 'react'\nimport {useParams} from 'react-router-dom'\nfunction UserPage(){\n    const [user, setUser] = useState()\n    const [loading, setLoading] = useState(true)\n    const [errors, setErrors] = useState(false)\n    \n    const params = useParams()\n    const {id} = params\n    useEffect(()=>{\n        fetch(`/users/${id}`)\n        .then(res => {\n            if(res.ok){\n                res.json().then(user => {\n                    setUser(user)\n                    setLoading(false)\n                })\n            }else {\n                res.json().then(data => setErrors(data.error))\n            }\n        })\n       \n    },[])\n\n    if(loading) return <h1>Loading</h1>\n    if(errors) return <h1>{errors}</h1>\n    return (\n        <div>\n            <h1>{user.name}</h1>\n            <h3>Tickets</h3>\n            <ul>\n                {user.tickets.map(ticket => (\n                <li>\n                    <h2>{ticket.production.title}</h2>\n                    <p>Price: {ticket.price}</p>\n                </li>\n                ))}\n            </ul>\n        </div>\n    )\n}\n\nexport default UserPage","import React, {useState} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {Form} from '../styled/Form'\n\nfunction SignUp({updateUser}) {\n    const [formData, setFormData] = useState({\n        name:'',\n        email:'',\n        password:''\n    })\n    const [errors, setErrors] = useState([])\n    const history = useHistory()\n\n    const {name, email, password} = formData\n\n    function onSubmit(e){\n        e.preventDefault()\n        const user = {\n            name,\n            email,\n            password\n        }\n       \n        fetch(`/users`,{\n          method:'POST',\n          headers:{'Content-Type': 'application/json'},\n          body:JSON.stringify(user)\n        })\n        .then(res => {\n            if(res.ok){\n                res.json().then(user => {\n                    updateUser(user)\n                    history.push(`/users/${user.id}`)\n                })\n            }else {\n                res.json().then(json => setErrors(Object.entries(json.errors)))\n            }\n        })\n       \n    }\n\n    const handleChange = (e) => {\n        const { name, value } = e.target\n        setFormData({ ...formData, [name]: value })\n      }\n    return (\n        <> \n        <Form onSubmit={onSubmit}>\n        <label>\n          Username\n          </label>  \n          <input type='text' name='name' value={name} onChange={handleChange} />\n       \n        <label>\n         Email\n         </label>\n        <input type='text' name='email' value={email} onChange={handleChange} />\n       \n        <label>\n         Password\n         </label>\n        <input type='password' name='password' value={password} onChange={handleChange} />\n        \n       \n        <input type='submit' value='Sign up!' />\n      </Form>\n      {errors?errors.map(e => <div>{e[0]+': ' + e[1]}</div>):null}\n        </>\n    )\n}\n\nexport default SignUp\n","import React, {useState} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {Form} from '../styled/Form'\n\nfunction Login({updateUser}) {\n    const [formData, setFormData] = useState({\n        name:'',\n        password:''\n    })\n    const [errors, setErrors] = useState([])\n    const history = useHistory()\n\n    const {name, email, password} = formData\n\n    function onSubmit(e){\n        e.preventDefault()\n        const user = {\n            name,\n            password\n        }\n       \n        fetch(`/login`,{\n          method:'POST',\n          headers:{'Content-Type': 'application/json'},\n          body:JSON.stringify(user)\n        })\n        .then(res => {\n            if(res.ok){\n                res.json().then(user => {\n                    updateUser(user)\n                    history.push(`/users/${user.id}`)\n                })\n            }else {\n                res.json().then(json => setErrors(json.error))\n            }\n        })\n       \n    }\n\n    const handleChange = (e) => {\n        const { name, value } = e.target\n        setFormData({ ...formData, [name]: value })\n      }\n    return (\n        <> \n        <Form onSubmit={onSubmit}>\n        <label>\n          Username\n          </label>\n        <input type='text' name='name' value={name} onChange={handleChange} />\n      \n        <label>\n         Password\n         </label>\n        <input type='password' name='password' value={email} onChange={handleChange} />\n       \n       \n        <input type='submit' value='Log in!' />\n      </Form>\n      {errors?<h2>{errors}</h2>:null}\n        </>\n    )\n}\n\nexport default Login\n","function NotFound(){\n    return(\n        <>\n            <h1>Sorry We can't find the Page you're looking for!</h1>\n            <h1>404 Not Found</h1>\n        </>\n    )\n}\nexport default NotFound","import { Route, Switch } from 'react-router-dom'\nimport {createGlobalStyle} from 'styled-components'\nimport {useEffect, useState} from 'react'\nimport Home from './components/Home'\nimport ProductionForm from './components/ProductionForm'\nimport EditProductionForm from './components/EditProductionForm'\nimport Navigation from './components/Navigation'\nimport ProductionDetail from './components/ProductionDetail'\nimport UserPage from './components/UserPage'\nimport SignUp from './components/Signup'\nimport Login from './components/Login'\nimport NotFound from './components/NotFound'\n\nfunction App() {\n  const [productions, setProductions] = useState([])\n  const [errors, setErrors] = useState(false)\n  const [cart, setCart] = useState([])\n  const [user, setUser] = useState(null)\n\n\n  useEffect(() => {\n    fetch('/authorized')\n    .then(res => {\n      if(res.ok){\n        res.json().then(user => {\n          setUser(user)\n          fetchProductions()\n        })\n      } else {\n        setUser(null)\n      }\n    })\n  },[])\n\n  const fetchProductions = () => {\n    fetch('/productions')\n    .then(res => {\n      if(res.ok){\n        res.json().then(setProductions)\n      }else {\n        res.json().then(data => setErrors(data.error))\n      }\n    })\n  }\n\n  const addProduction = (production) => setProductions(current => [...current,production])\n\n  const updateProduction = (updatedProduction) => setProductions(current => {\n    return current.map(production => {\n     if(production.id === updatedProduction.id){\n       return updatedProduction\n     } else {\n       return production\n     }\n    })\n  })\n\n  const deleteProduction = (id) => setProductions(current => current.filter(p => p.id !== id)) \n\n  const addToCart = (ticket) => setCart(cart => [...cart, ticket])\n  const updateUser = (user) => setUser(user)\n  if(errors) return <h1>{errors}</h1>\n  if(!user) return (\n  <>\n    <GlobalStyle />\n    <Navigation cart={cart} updateUser={updateUser}/>\n    <Login updateUser={updateUser}/>\n  </>\n  )\n  return (\n    <>\n    <GlobalStyle />\n    <Navigation cart={cart} updateUser={updateUser}/>\n      <Switch>\n\n      <Route  path='/productions/new'>\n        <ProductionForm addProduction={addProduction}/>\n      </Route>\n    {/* TODO make edit component */}\n      <Route  path='/productions/:id/edit'>\n        <EditProductionForm updateProduction={updateProduction}/>\n      </Route>\n     \n      <Route path='/productions/:id'>\n          <ProductionDetail addToCart={addToCart} deleteProduction={deleteProduction}/>\n      </Route>\n\n      <Route path='/users/new'>\n        <SignUp updateUser={updateUser}/>\n      </Route>\n\n      <Route path='/users/:id'>\n        <UserPage />\n      </Route>\n\n      <Route path='/login'>\n        <Login updateUser={updateUser}/>\n      </Route>\n\n    \n      <Route exact path='/'>\n        <Home  productions={productions}/>\n      </Route>\n\n      <Route>\n        <NotFound />\n      </Route>\n      \n      </Switch>\n   \n    </>\n  )\n}\n\nexport default App\n\nconst GlobalStyle = createGlobalStyle`\n    body{\n      background-color: black; \n      color:white;\n    }\n    `\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}